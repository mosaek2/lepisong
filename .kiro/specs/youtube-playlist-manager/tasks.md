# Implementation Plan

- [x] 1. 프로젝트 기본 구조 및 의존성 설정

  - NX 워크스페이스에 백엔드 API 앱 생성
  - 관리자 앱 생성 및 기본 구조 설정
  - 필요한 패키지 설치 (NestJS, Prisma, Socket.io, TailwindCSS 등)
  - _Requirements: 모든 기술 스택 요구사항_

- [ ] 2. 데이터베이스 스키마 및 Prisma 설정

  - Prisma 스키마 파일 생성 및 데이터 모델 정의
  - PostgreSQL 데이터베이스 연결 설정
  - 초기 마이그레이션 생성 및 실행
  - _Requirements: 1.1, 2.1, 3.1, 4.1, 7.1, 11.1_

- [ ] 3. 백엔드 API 기본 구조 구현

  - NestJS 앱 모듈 구조 설정
  - 기본 컨트롤러, 서비스, 모듈 생성
  - 환경 변수 설정 및 구성 관리
  - _Requirements: 모든 백엔드 관련 요구사항_

- [ ] 4. 사용자 인증 시스템 구현
- [ ] 4.1 JWT 기반 인증 서비스 구현

  - JWT 토큰 생성 및 검증 로직 작성
  - 인증 가드 및 데코레이터 구현
  - 패스워드 해싱 및 검증 로직 구현
  - _Requirements: 1.1, 1.2, 1.3, 1.4_

- [ ] 4.2 사용자 등록 및 로그인 API 구현

  - 회원가입 엔드포인트 구현
  - 로그인 엔드포인트 구현
  - 사용자 프로필 조회 API 구현
  - _Requirements: 1.1, 1.2, 1.3_

- [ ] 4.3 관리자 인증 시스템 구현

  - 관리자 로그인 API 구현
  - 관리자 권한 검증 가드 구현
  - 역할 기반 접근 제어 시스템 구현
  - _Requirements: 7.1, 7.2, 11.1_

- [ ] 5. YouTube API 통합 구현
- [ ] 5.1 YouTube Data API 서비스 구현

  - YouTube API 클라이언트 설정
  - 영상 검색 기능 구현
  - 영상 상세 정보 조회 기능 구현
  - _Requirements: 2.1, 2.2, 2.3, 2.4_

- [ ] 5.2 YouTube 검색 API 엔드포인트 구현

  - 검색 쿼리 검증 및 처리 로직 구현
  - 검색 결과 포맷팅 및 응답 구현
  - 에러 처리 및 예외 상황 대응 구현
  - _Requirements: 2.1, 2.2, 2.3, 2.4_

- [ ] 6. 공유 대기열 관리 시스템 구현
- [ ] 6.1 대기열 데이터 관리 서비스 구현

  - 대기열 CRUD 작업 구현
  - 대기열 순서 관리 로직 구현
  - 우선예약 기능 구현
  - _Requirements: 3.1, 3.2, 3.3, 9.1, 9.2, 9.4_

- [ ] 6.2 대기열 관리 API 엔드포인트 구현

  - 대기열 조회 API 구현
  - 대기열 추가 API 구현
  - 대기열 삭제 API 구현
  - 대기열 순서 변경 API 구현
  - _Requirements: 3.1, 3.2, 3.3, 6.1, 9.1, 9.2, 9.4_

- [ ] 7. WebSocket 실시간 통신 구현
- [ ] 7.1 WebSocket 게이트웨이 구현

  - Socket.io 서버 설정 및 연결 관리
  - 클라이언트 연결/해제 이벤트 처리
  - 룸 기반 메시지 브로드캐스팅 구현
  - _Requirements: 3.3, 6.2, 9.2, 10.3_

- [ ] 7.2 실시간 대기열 동기화 구현

  - 대기열 변경 이벤트 브로드캐스팅
  - 플레이어 상태 동기화 이벤트 처리
  - 사용자 접속/해제 알림 구현
  - _Requirements: 3.3, 6.2, 9.2, 10.1, 10.2, 10.3, 10.4_

- [ ] 8. 개인 재생목록 시스템 구현
- [ ] 8.1 재생목록 관리 서비스 구현

  - 재생목록 CRUD 작업 구현
  - 재생목록 내 영상 관리 로직 구현
  - 재생목록 순서 관리 구현
  - _Requirements: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 8.2 재생목록 API 엔드포인트 구현

  - 재생목록 생성/조회/수정/삭제 API 구현
  - 재생목록에 영상 추가/제거 API 구현
  - 재생목록을 대기열에 추가하는 API 구현
  - _Requirements: 4.1, 4.2, 4.3, 4.4, 4.5, 5.1, 5.2, 5.3, 5.4_

- [ ] 9. Google OAuth 및 프리미엄 계정 관리 구현
- [ ] 9.1 Google OAuth 인증 구현

  - Google OAuth 클라이언트 설정
  - OAuth 인증 플로우 구현
  - 토큰 관리 및 갱신 로직 구현
  - _Requirements: 7.3, 7.4_

- [ ] 9.2 프리미엄 계정 관리 서비스 구현

  - 프리미엄 계정 등록 및 관리 로직 구현
  - 계정 상태 검증 및 모니터링 구현
  - 토큰 암호화 저장 및 보안 처리 구현
  - _Requirements: 7.2, 7.4, 7.5, 8.3_

- [ ] 10. 관리자 기능 구현
- [ ] 10.1 회원 관리 서비스 구현

  - 회원 목록 조회 및 검색 기능 구현
  - 회원 상태 변경 (활성화/비활성화) 구현
  - 회원 삭제 기능 구현
  - _Requirements: 11.1, 11.2, 11.3, 11.4, 11.5, 11.6_

- [ ] 10.2 관리자 API 엔드포인트 구현

  - 회원 관리 API 엔드포인트 구현
  - 프리미엄 계정 관리 API 엔드포인트 구현
  - 관리자 대시보드 데이터 API 구현
  - _Requirements: 11.1, 11.2, 11.3, 11.4, 11.5, 11.6, 7.2, 7.4_

- [ ] 11. 클라이언트 앱 기본 구조 구현
- [ ] 11.1 Angular 앱 기본 설정 및 라우팅 구현

  - TailwindCSS 설정 및 기본 스타일 구성
  - 앱 라우팅 구조 설정
  - 공통 컴포넌트 및 서비스 구조 생성
  - _Requirements: 모든 클라이언트 관련 요구사항_

- [ ] 11.2 인증 관련 컴포넌트 구현

  - 로그인 페이지 컴포넌트 구현
  - 회원가입 페이지 컴포넌트 구현
  - 인증 서비스 및 가드 구현
  - _Requirements: 1.1, 1.2, 1.3, 1.4_

- [ ] 12. Home 페이지 핵심 기능 구현
- [ ] 12.1 영상 플레이어 컴포넌트 구현

  - YouTube 영상 재생 컴포넌트 구현
  - 재생 컨트롤 (재생/일시정지/볼륨) 구현
  - 영상 종료 시 다음 영상 자동 재생 구현
  - _Requirements: 8.1, 8.2, 10.1, 10.2, 10.3, 10.4_

- [ ] 12.2 대기열 관리 컴포넌트 구현

  - 대기열 목록 표시 컴포넌트 구현
  - 드래그 앤 드롭으로 순서 변경 기능 구현
  - 대기열에서 영상 삭제 기능 구현
  - _Requirements: 6.1, 6.2, 6.4, 9.1, 9.2, 9.4_

- [ ] 12.3 실시간 동기화 클라이언트 구현

  - WebSocket 클라이언트 서비스 구현
  - 실시간 대기열 업데이트 처리 구현
  - 플레이어 상태 동기화 구현
  - _Requirements: 3.3, 6.2, 9.2, 10.3_

- [ ] 13. 영상 검색 기능 구현
- [ ] 13.1 검색 페이지 컴포넌트 구현

  - 검색 입력 폼 및 UI 구현
  - 검색 결과 목록 표시 컴포넌트 구현
  - 검색 결과에서 대기열/재생목록 추가 기능 구현
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 3.1, 3.2, 4.3, 4.4_

- [ ] 13.2 검색 서비스 및 API 통합 구현

  - YouTube 검색 API 호출 서비스 구현
  - 검색 결과 캐싱 및 상태 관리 구현
  - 에러 처리 및 로딩 상태 관리 구현
  - _Requirements: 2.1, 2.2, 2.3, 2.4_

- [ ] 14. 개인 재생목록 관리 기능 구현
- [ ] 14.1 재생목록 페이지 컴포넌트 구현

  - 재생목록 목록 표시 컴포넌트 구현
  - 재생목록 생성/수정/삭제 기능 구현
  - 재생목록 상세 보기 컴포넌트 구현
  - _Requirements: 4.1, 4.2, 4.5_

- [ ] 14.2 재생목록 관리 기능 구현

  - 재생목록에 영상 추가/제거 기능 구현
  - 재생목록을 대기열에 추가하는 기능 구현
  - 재생목록 내 영상 순서 변경 기능 구현
  - _Requirements: 4.3, 4.4, 5.1, 5.2, 5.3, 5.4_

- [ ] 15. 관리자 앱 구현
- [ ] 15.1 관리자 앱 기본 구조 구현

  - 관리자 앱 생성 및 기본 설정
  - 관리자 전용 라우팅 및 레이아웃 구현
  - 관리자 인증 및 접근 제어 구현
  - _Requirements: 7.1, 7.2, 11.1_

- [ ] 15.2 회원 관리 페이지 구현

  - 회원 목록 표시 컴포넌트 구현
  - 회원 검색 및 필터링 기능 구현
  - 회원 상태 변경 및 삭제 기능 구현
  - _Requirements: 11.1, 11.2, 11.3, 11.4, 11.5, 11.6_

- [ ] 15.3 프리미엄 계정 관리 페이지 구현

  - Google OAuth 로그인 버튼 및 플로우 구현
  - 프리미엄 계정 상태 표시 및 관리 기능 구현
  - 계정 연결/해제 기능 구현
  - _Requirements: 7.1, 7.2, 7.3, 7.4, 7.5_

- [ ] 16. 에러 처리 및 사용자 경험 개선
- [ ] 16.1 전역 에러 처리 구현

  - 클라이언트 전역 에러 핸들러 구현
  - 서버 전역 예외 필터 구현
  - 사용자 친화적 에러 메시지 표시 구현
  - _Requirements: 2.3, 2.4, 6.4, 8.4_

- [ ] 16.2 로딩 상태 및 알림 시스템 구현

  - 로딩 스피너 및 스켈레톤 UI 구현
  - 토스트 알림 시스템 구현
  - 성공/실패 피드백 메시지 구현
  - _Requirements: 3.3, 5.4, 모든 사용자 피드백 관련 요구사항_

- [ ] 17. 테스트 구현
- [ ] 17.1 백엔드 단위 테스트 구현

  - 서비스 로직 단위 테스트 작성
  - API 엔드포인트 통합 테스트 작성
  - WebSocket 이벤트 테스트 작성
  - _Requirements: 모든 백엔드 기능 검증_

- [ ] 17.2 프론트엔드 컴포넌트 테스트 구현

  - 주요 컴포넌트 단위 테스트 작성
  - 서비스 및 가드 테스트 작성
  - WebSocket 통신 테스트 작성
  - _Requirements: 모든 프론트엔드 기능 검증_

- [ ] 18. 최종 통합 및 배포 준비
- [ ] 18.1 환경별 설정 및 빌드 구성

  - 개발/프로덕션 환경 설정 분리
  - Docker 컨테이너 설정 (선택사항)
  - 빌드 스크립트 및 배포 설정 구성
  - _Requirements: 전체 시스템 통합_

- [ ] 18.2 성능 최적화 및 보안 강화
  - API 응답 캐싱 구현
  - 이미지 최적화 및 지연 로딩 구현
  - 보안 헤더 및 CORS 설정 최적화
  - _Requirements: 전체 시스템 성능 및 보안_
